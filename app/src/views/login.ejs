<!-- <%- include("partials/header", { title: "Login" }) %>
<section class="auth-card" style="margin-top: 5rem; margin-bottom: 5rem;">
  <h2>Login</h2>
  <form method="POST" action="/login" class="auth-form">
    <input type="email" name="email" placeholder="Email address" required />
    <input type="password" name="password" placeholder="Password" required />
    <button type="submit" class="btn">Login</button>
    <p class="text-small">
      Don’t have an account?
      <a href="/signup">Sign up</a>
    </p>
  </form>
</section>
<%- include("partials/footer") %> -->

<%- include("partials/header", { title: "Login" }) %>

<section class="auth-card" style="margin-top: 5rem; margin-bottom: 5rem;">
  <h2>Login</h2>

  <!-- Show error message if passed -->
  <% if (typeof error !== "undefined") { %>
    <div style="color: red;"><%= error %></div>
  <% } %>

  <form method="POST" action="/login" class="auth-form">
    <input
      type="email"
      name="email"
      placeholder="Email address"
      value="<%= typeof oldEmail !== 'undefined' ? oldEmail : '' %>"
      required
    />

    <input
      type="password"
      name="password"
      placeholder="Password"
      required
    />

    <button type="submit" class="btn">Login</button>

    <p class="text-small">
      Don’t have an account?
      <a href="/signup">Sign up</a>
    </p>
  </form>
</section>

<script>
  // Remove query parameters after first load
  if (window.location.search) {
    window.history.replaceState({}, document.title, window.location.pathname);
  }
</script>


<%- include("partials/footer") %>
